# 验证码平台 
## 功能模块
- 客户模块 （flutter 实现）
- api模块  （go)
- 后台管理模块 (giv-vue-admin)


## API功能描述
- 获取token 后期API凭证
- 提供获取手机号,需要根据业务类型获取（qq、微信等）
- 根据手机号获取验证码
- 当客户向平台获取手机号时，需要向第三方获取手机号
- 当客户向平台获取验证码时，需要向第三方获取验证码 （这里可能后期需要优化）
- 获取业务类型接口
- 获取余额接口

### 接口描述
- 除token外，所有接口都需要在请求头中添加token
  - token：API凭证
#### 获取手机号
- 接口路径：/api/v1/get_phone
- 请求方式：POST
- 请求参数：
  - business_type：业务类型，qq、微信等
- 响应参数：
  - data： 
    - phone：客户手机号
  - code：状态码，200表示成功
  - msg：状态描述    

#### 获取验证码
- 接口路径：/api/v1/get_code        
- 请求方式：POST
- 请求参数：
   - phone：客户手机号
- 响应参数：
  - data： 
    - code：客户验证码
  - code：状态码，200表示成功
  - msg：状态描述    

#### 获取token
- 接口路径：/api/v1/get_token
- 请求方式：POST
- 请求参数：
  - secret：客户密钥
- 响应参数：
  - data： 
    - token：API凭证
  - code：状态码，200表示成功
  - msg：状态描述    
  
#### 获取业务类型接口
- 接口路径：/api/v1/get_business_types
- 请求方式：POST
- 请求参数：
  - token：API凭证
- 响应参数：
  - data： 
    - business_types：业务类型列表
  - code：状态码，200表示成功
  - msg：状态描述    
#### 获取余额接口
- 接口路径：/api/v1/get_balance
- 请求方式：POST
- 请求参数：
  - token：API凭证
- 响应参数：
  - data： 
    - balance：客户余额
  - code：状态码，200表示成功
  - msg：状态描述    

### 错误码描述
- 400：请求参数错误
- 401：未授权，token错误或过期
- 403：禁止访问，没有权限
- 404：资源不存在
- 500：服务器内部错误
- 600：客户余额不足
- 601：客户密钥错误
- 602：客户手机号错误
- 603：业务类型错误
- 604：客户手机号不存在
- 605：验证码不存在
- 606：第三方服务错误
- 607：客户手机号已存在
- 608：获取验证码失败

## 客户端模型
### 功能模块
- 1.登陆/注册/修改密码等用户
- 2.获取手机号/查看验证码
- 3.查看secretkey 余额等 api线路等
- 4.获取手机号的历史记录和消费情况
- 5.充值
- 6.线路选择

### 其他要求
- 1. 支持多平台(web/mac/windows)
- 2. 支持多语言

## 客户端管理
### 基础功能
- 1. gin-vue-admin 已经有很多功能，所以不需要额外开发基础框架的东西
- 2. 客户管理 
  - 普通curd
  - 余额 修改 冻结等
  - 分配线路，业务类型
- 3. 三方平台管理
- 4. 客户请求的日志、统计
- 5. 客户的余额变动记录
  
### 其它要求
- 用户请求、三方请求日志都需要明确的写好日志，方便查总是
- 统计报表需要有图表展示